<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="#">
    <img src="../../assets/vcomply.png" width="30" height="30" alt="" />
  </a>
  <button
    class="navbar-toggler"
    type="button"
    data-toggle="collapse"
    data-target="#navbarNav"
    aria-controls="navbarNav"
    aria-expanded="false"
    aria-label="Toggle navigation"
  >
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="#"
          >Home <span class="sr-only">(current)</span></a
        >
      </li>
      <li class="nav-item">
        <a class="nav-link" (click)="logout()">Logout</a>
      </li>
    </ul>
  </div>
</nav>
<div class="container">
  <div class="overall-perf row">
    <div class="col">
      <div class="overall-perf-label bg-success">
        Completed on Time
      </div>
      <strong
        ><div class="overall-perf-content">
          {{ overallPerformance[0] }}%
        </div></strong
      >
    </div>
    <div class="col">
      <div class="overall-perf-label bg-warning">
        Completed with delay
      </div>

      <strong
        ><div class="overall-perf-content">
          {{ overallPerformance[1] }}%
        </div></strong
      >
    </div>
    <div class="col">
      <div class="overall-perf-label bg-danger">
        Not completed
      </div>

      <strong
        ><div class="overall-perf-content">
          {{ overallPerformance[2] }}%
        </div></strong
      >
    </div>
    <!-- <div class="col">
      <div class="overall-perf-label bg-primary">
        Diligence score
      </div>

      <strong><div class="strong">90%</div></strong>
    </div> -->
  </div>
</div>
<div class="accordion" id="accordionExample">
  <div class="card" *ngFor="let cat of categories">
    <div
      class="card-header collapsed"
      id="{{ cat.split(' ')[0] }}head"
      [attr.data-target]="'#' + cat.split(' ')[0] + 'collapse'"
      data-toggle="collapse"
      [attr.aria-controls]="cat.split(' ')[0] + 'collapse'"
    >
      <div class="cat-head">
        {{ cat }}
      </div>
      <div class="cat-performance">
        <div width="1rem" class="text-success cat-perf-indv">
          {{ reports.get(cat).performance[0] + '%' }}
        </div>
        <div width="1rem" class="text-warning cat-perf-indv">
          {{ reports.get(cat).performance[1] + '%' }}
        </div>
        <div width="1rem" class="text-danger cat-perf-indv">
          {{ reports.get(cat).performance[2] + '%' }}
        </div>
      </div>
      <i class="fa"></i>
    </div>

    <div
      id="{{ cat.split(' ')[0] }}collapse"
      class="collapse"
      [attr.aria-labelledby]="cat.split(' ')[0] + 'head'"
      data-parent="#accordionExample"
    >
      <div class="card-body">
        <ul class="list-group list-group-flush">
          <li
            class="list-group-item"
            *ngFor="let rep of reports.get(cat).report"
          >
            {{ rep.ReportName }}
            <div class="progress" height="3px">
              <div
                class="progress-bar bg-success"
                role="progressbar"
                style.width="{{ rep.performance[0] }}%"
                aria-valuenow="100"
                aria-valuemin="0"
                aria-valuemax="100"
              ></div>
              <div
                class="progress-bar bg-warning"
                role="progressbar"
                style.width="{{ rep.performance[1] }}%"
                aria-valuenow="100"
                aria-valuemin="0"
                aria-valuemax="100"
              ></div>
              <div
                class="progress-bar bg-danger"
                role="progressbar"
                style.width="{{ rep.performance[2] }}%"
                aria-valuenow="100"
                aria-valuemin="0"
                aria-valuemax="100"
              ></div>
            </div>
            <div class="perf-indicator">
              <div class="text-success int-perf">
                {{ rep.performance[0] + '% : ' }}
              </div>
              <div class="text-warning int-perf">
                {{ rep.performance[1] + '% : ' }}
              </div>
              <div class="text-danger int-perf">
                {{ rep.performance[2] }}
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
