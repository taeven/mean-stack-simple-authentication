<!-- <ng-template ngFor let-item [ngForOf]="items" let-i="index" [ngForTrackBy]="trackByFn">
  <li>...</li>
</ng-template> -->

<div class="accordion" id="accordionExample">
  <div class="card" *ngFor="let cat of categories">
    <div
      class="card-header collapsed"
      id="{{ cat.split(' ')[0] }}head"
      [attr.data-target]="'#' + cat.split(' ')[0] + 'collapse'"
      data-toggle="collapse"
      [attr.aria-controls]="cat.split(' ')[0] + 'collapse'"
    >
      <div class="cat-head">
        {{ cat }}
      </div>
      <div class="cat-performance">
        <div width="1rem" class="text-success cat-perf-indv">
          {{ reports.get(cat).performance[0] + '%' }}
        </div>
        <div width="1rem" class="text-warning cat-perf-indv">
          {{ reports.get(cat).performance[1] + '%' }}
        </div>
        <div width="1rem" class="text-danger cat-perf-indv">
          {{ reports.get(cat).performance[2] + '%' }}
        </div>
      </div>
    </div>

    <div
      id="{{ cat.split(' ')[0] }}collapse"
      class="collapse"
      [attr.aria-labelledby]="cat.split(' ')[0] + 'head'"
      data-parent="#accordionExample"
    >
      <div class="card-body">
        <ul class="list-group list-group-flush">
          <li
            class="list-group-item"
            *ngFor="let rep of reports.get(cat).report"
          >
            {{ rep.ReportName }}
            <div class="progress" height="3px">
              <div
                class="progress-bar bg-success"
                role="progressbar"
                style.width="{{ rep.performance[0] }}%"
                aria-valuenow="100"
                aria-valuemin="0"
                aria-valuemax="100"
              >
                {{ rep.performance[0] + '%' }}
              </div>
              <div
                class="progress-bar bg-warning"
                role="progressbar"
                style.width="{{ rep.performance[1] }}%"
                aria-valuenow="100"
                aria-valuemin="0"
                aria-valuemax="100"
              >
                {{ rep.performance[1] + '%' }}
              </div>
              <div
                class="progress-bar bg-danger"
                role="progressbar"
                style.width="{{ rep.performance[2] }}%"
                aria-valuenow="100"
                aria-valuemin="0"
                aria-valuemax="100"
              >
                {{ rep.performance[2] + '%' }}
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
